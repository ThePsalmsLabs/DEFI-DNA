[
  {
    "type": "constructor",
    "inputs": [
      {
        "name": "_posm",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "_stateView",
        "type": "address",
        "internalType": "address"
      }
    ],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "allUsers",
    "inputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "calculateDNAScore",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "score",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getActivePositions",
    "inputs": [
      {
        "name": "owner",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256[]",
        "internalType": "uint256[]"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getOwnerTokenIds",
    "inputs": [
      {
        "name": "owner",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256[]",
        "internalType": "uint256[]"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getPosition",
    "inputs": [
      {
        "name": "tokenId",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "tuple",
        "internalType": "struct DNASubscriber.PositionData",
        "components": [
          {
            "name": "owner",
            "type": "address",
            "internalType": "address"
          },
          {
            "name": "poolId",
            "type": "bytes32",
            "internalType": "PoolId"
          },
          {
            "name": "tickLower",
            "type": "int24",
            "internalType": "int24"
          },
          {
            "name": "tickUpper",
            "type": "int24",
            "internalType": "int24"
          },
          {
            "name": "liquidity",
            "type": "uint128",
            "internalType": "uint128"
          },
          {
            "name": "createdAt",
            "type": "uint64",
            "internalType": "uint64"
          },
          {
            "name": "isActive",
            "type": "bool",
            "internalType": "bool"
          }
        ]
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getUserAtIndex",
    "inputs": [
      {
        "name": "index",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getUserCount",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getUserMilestones",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "tuple",
        "internalType": "struct DNASubscriber.MilestoneStatus",
        "components": [
          {
            "name": "firstPosition",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "firstV4Position",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "volume1K",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "volume10K",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "volume100K",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "volume1M",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "positions10",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "positions50",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "positions100",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "pools5",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "pools20",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "pools50",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "fees100",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "fees1000",
            "type": "bool",
            "internalType": "bool"
          },
          {
            "name": "fees10000",
            "type": "bool",
            "internalType": "bool"
          }
        ]
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getUserStats",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "tuple",
        "internalType": "struct DNASubscriber.UserStats",
        "components": [
          {
            "name": "firstActionTimestamp",
            "type": "uint64",
            "internalType": "uint64"
          },
          {
            "name": "lastActionTimestamp",
            "type": "uint64",
            "internalType": "uint64"
          },
          {
            "name": "totalPositions",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "activePositions",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "uniquePools",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "totalSwaps",
            "type": "uint32",
            "internalType": "uint32"
          },
          {
            "name": "totalLiquidityProvided",
            "type": "uint128",
            "internalType": "uint128"
          },
          {
            "name": "totalFeesEarned",
            "type": "uint128",
            "internalType": "uint128"
          },
          {
            "name": "totalVolumeUsd",
            "type": "uint128",
            "internalType": "uint128"
          }
        ]
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "getUserTier",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "tier",
        "type": "string",
        "internalType": "string"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "hasInteractedWithPool",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "poolId",
        "type": "bytes32",
        "internalType": "PoolId"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "isRegisteredUser",
    "inputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "notifyBurn",
    "inputs": [
      {
        "name": "tokenId",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "owner",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "info",
        "type": "uint256",
        "internalType": "PositionInfo"
      },
      {
        "name": "liquidity",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "feesAccrued",
        "type": "int256",
        "internalType": "BalanceDelta"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "notifyModifyLiquidity",
    "inputs": [
      {
        "name": "tokenId",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "liquidityChange",
        "type": "int256",
        "internalType": "int256"
      },
      {
        "name": "feesAccrued",
        "type": "int256",
        "internalType": "BalanceDelta"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "notifySubscribe",
    "inputs": [
      {
        "name": "tokenId",
        "type": "uint256",
        "internalType": "uint256"
      },
      {
        "name": "data",
        "type": "bytes",
        "internalType": "bytes"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "notifyUnsubscribe",
    "inputs": [
      {
        "name": "tokenId",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "ownerTokenIds",
    "inputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "positions",
    "inputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "outputs": [
      {
        "name": "owner",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "poolId",
        "type": "bytes32",
        "internalType": "PoolId"
      },
      {
        "name": "tickLower",
        "type": "int24",
        "internalType": "int24"
      },
      {
        "name": "tickUpper",
        "type": "int24",
        "internalType": "int24"
      },
      {
        "name": "liquidity",
        "type": "uint128",
        "internalType": "uint128"
      },
      {
        "name": "createdAt",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "isActive",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "posm",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "contract IPositionManagerMinimal"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "recordSwap",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "poolId",
        "type": "bytes32",
        "internalType": "PoolId"
      },
      {
        "name": "volumeUsd",
        "type": "uint128",
        "internalType": "uint128"
      }
    ],
    "outputs": [],
    "stateMutability": "nonpayable"
  },
  {
    "type": "function",
    "name": "stateView",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "contract IStateViewMinimal"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "totalFeesCollected",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "totalPositionsCreated",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "totalUsers",
    "inputs": [],
    "outputs": [
      {
        "name": "",
        "type": "uint256",
        "internalType": "uint256"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "userMilestones",
    "inputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "firstPosition",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "firstV4Position",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "volume1K",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "volume10K",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "volume100K",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "volume1M",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "positions10",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "positions50",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "positions100",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "pools5",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "pools20",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "pools50",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "fees100",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "fees1000",
        "type": "bool",
        "internalType": "bool"
      },
      {
        "name": "fees10000",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "userPoolInteraction",
    "inputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      },
      {
        "name": "",
        "type": "bytes32",
        "internalType": "bytes32"
      }
    ],
    "outputs": [
      {
        "name": "",
        "type": "bool",
        "internalType": "bool"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "function",
    "name": "userStats",
    "inputs": [
      {
        "name": "",
        "type": "address",
        "internalType": "address"
      }
    ],
    "outputs": [
      {
        "name": "firstActionTimestamp",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "lastActionTimestamp",
        "type": "uint64",
        "internalType": "uint64"
      },
      {
        "name": "totalPositions",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "activePositions",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "uniquePools",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "totalSwaps",
        "type": "uint32",
        "internalType": "uint32"
      },
      {
        "name": "totalLiquidityProvided",
        "type": "uint128",
        "internalType": "uint128"
      },
      {
        "name": "totalFeesEarned",
        "type": "uint128",
        "internalType": "uint128"
      },
      {
        "name": "totalVolumeUsd",
        "type": "uint128",
        "internalType": "uint128"
      }
    ],
    "stateMutability": "view"
  },
  {
    "type": "event",
    "name": "StatsUpdated",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "indexed": true,
        "internalType": "address"
      },
      {
        "name": "totalPositions",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "activePositions",
        "type": "uint32",
        "indexed": false,
        "internalType": "uint32"
      },
      {
        "name": "totalFeesEarned",
        "type": "uint128",
        "indexed": false,
        "internalType": "uint128"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "UserAction",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "indexed": true,
        "internalType": "address"
      },
      {
        "name": "poolId",
        "type": "bytes32",
        "indexed": true,
        "internalType": "PoolId"
      },
      {
        "name": "tokenId",
        "type": "uint256",
        "indexed": true,
        "internalType": "uint256"
      },
      {
        "name": "actionType",
        "type": "uint8",
        "indexed": false,
        "internalType": "enum DNASubscriber.ActionType"
      },
      {
        "name": "liquidity",
        "type": "uint128",
        "indexed": false,
        "internalType": "uint128"
      },
      {
        "name": "feesAccrued0",
        "type": "int128",
        "indexed": false,
        "internalType": "int128"
      },
      {
        "name": "feesAccrued1",
        "type": "int128",
        "indexed": false,
        "internalType": "int128"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  },
  {
    "type": "event",
    "name": "UserMilestone",
    "inputs": [
      {
        "name": "user",
        "type": "address",
        "indexed": true,
        "internalType": "address"
      },
      {
        "name": "milestoneType",
        "type": "uint8",
        "indexed": false,
        "internalType": "enum DNASubscriber.MilestoneType"
      },
      {
        "name": "value",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      },
      {
        "name": "timestamp",
        "type": "uint256",
        "indexed": false,
        "internalType": "uint256"
      }
    ],
    "anonymous": false
  }
]
